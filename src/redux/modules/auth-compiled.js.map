{"version":3,"sources":["auth.js"],"names":[],"mappings":"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","file":"auth-compiled.js","sourcesContent":["const LOAD = 'redux-example/auth/LOAD';\r\nconst LOAD_SUCCESS = 'redux-example/auth/LOAD_SUCCESS';\r\nconst LOAD_FAIL = 'redux-example/auth/LOAD_FAIL';\r\nconst LOGIN = 'redux-example/auth/LOGIN';\r\nconst LOGIN_SUCCESS = 'redux-example/auth/LOGIN_SUCCESS';\r\nconst LOGIN_FAIL = 'redux-example/auth/LOGIN_FAIL';\r\nconst LOGOUT = 'redux-example/auth/LOGOUT';\r\nconst LOGOUT_SUCCESS = 'redux-example/auth/LOGOUT_SUCCESS';\r\nconst LOGOUT_FAIL = 'redux-example/auth/LOGOUT_FAIL';\r\n\r\nconst USERS = 'redux-example/auth/USERS';\r\nconst USERS_SUCCESS = 'redux-example/auth/LOGOUT_SUCCESS';\r\nconst USERS_FAIL = 'redux-example/auth/LOGOUT_FAIL';\r\n\r\nconst CLIENT_WIDTH = 'redux-example/auth/CLIENT_WIDTH';\r\nconst HOME_NAV = 'redux-example/auth/HOME_NAV';\r\nconst HOME_LANG = 'redux-example/auth/HOME_LANG';\r\n\r\nconst SUBSCRIBE = 'redux-example/auth/SUBSCRIBE';\r\nconst SUBSCRIBE_SUCCESS = 'redux-example/auth/SUBSCRIBE_SUCCESS';\r\nconst SUBSCRIBE_FAIL = 'redux-example/auth/SUBSCRIBE_FAIL';\r\n\r\nconst initialState = {\r\n  loaded: false,\r\n  navButton: false,\r\n  language: 'zn',\r\n};\r\n\r\nexport default function reducer(state = initialState, action = {}) {\r\n  switch (action.type) {\r\n    case LOAD:\r\n      return {\r\n        ...state,\r\n        loading: true\r\n      };\r\n    case LOAD_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        loaded: true,\r\n        user: action.result\r\n      };\r\n    case LOAD_FAIL:\r\n      return {\r\n        ...state,\r\n        loading: false,\r\n        loaded: false,\r\n        error: action.error\r\n      };\r\n    case LOGIN:\r\n      return {\r\n        ...state,\r\n        loggingIn: true\r\n      };\r\n    case LOGIN_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loggingIn: false,\r\n        user: action.result\r\n      };\r\n    case LOGIN_FAIL:\r\n      return {\r\n        ...state,\r\n        loggingIn: false,\r\n        user: null,\r\n        loginError: action.error\r\n      };\r\n    case LOGOUT:\r\n      return {\r\n        ...state,\r\n        loggingOut: true\r\n      };\r\n    case LOGOUT_SUCCESS:\r\n      return {\r\n        ...state,\r\n        loggingOut: false,\r\n        user: null\r\n      };\r\n    case LOGOUT_FAIL:\r\n      return {\r\n        ...state,\r\n        loggingOut: false,\r\n        logoutError: action.error\r\n      };\r\n    case CLIENT_WIDTH:\r\n      return {\r\n        ...state,\r\n        clientWidth: action.reload,\r\n      };\r\n    case HOME_NAV:\r\n      return {\r\n        ...state,\r\n        navButton: action.reload,\r\n      };\r\n    case HOME_LANG:\r\n      return {\r\n        ...state,\r\n        language: action.reload,\r\n      };\r\n\r\n    case SUBSCRIBE_SUCCESS:\r\n      setTimeout(()=>{\r\n        global.dataFeedback.emit('onSubscribeComplete');\r\n      }, 50);\r\n      return {\r\n        ...state,\r\n        subscribeState: action.result,\r\n      };\r\n\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport function isLoaded(globalState) {\r\n  return globalState.auth && globalState.auth.loaded;\r\n}\r\n\r\nexport function load() {\r\n  return {\r\n    types: [LOAD, LOAD_SUCCESS, LOAD_FAIL],\r\n    promise: (client) => client.get('/loadAuth')\r\n  };\r\n}\r\n\r\nexport function login(name) {\r\n  return {\r\n    types: [LOGIN, LOGIN_SUCCESS, LOGIN_FAIL],\r\n    promise: (client) => client.post('/login', {\r\n      data: {\r\n        name: name\r\n      }\r\n    })\r\n  };\r\n}\r\n\r\nexport function logout() {\r\n  return {\r\n    types: [LOGOUT, LOGOUT_SUCCESS, LOGOUT_FAIL],\r\n    promise: (client) => client.get('/logout')\r\n  };\r\n}\r\n\r\n\r\nexport function getUserFunc() {\r\n  return {\r\n    types: [USERS, USERS_SUCCESS, USERS_FAIL],\r\n    promise: (client) => client.get('/users')\r\n  };\r\n}\r\n\r\nexport function getClientWidthFunc(data) {\r\n  return {\r\n    type: CLIENT_WIDTH,\r\n    reload: data,\r\n  };\r\n}\r\n\r\nexport function getNavButtonFunc(data) {\r\n  return {\r\n    type: HOME_NAV,\r\n    reload: data,\r\n  };\r\n}\r\n\r\nexport function changeLangFunc(active) {\r\n  return {\r\n    type: HOME_LANG,\r\n    reload: active\r\n  };\r\n}\r\n\r\nexport function insertSubscribeFunc(data) {\r\n  return {\r\n    types: [SUBSCRIBE, SUBSCRIBE_SUCCESS, SUBSCRIBE_FAIL],\r\n    promise: (client) => client.post('/subscribe', {\r\n      data: data,\r\n    })\r\n  };\r\n}\r\n"]}